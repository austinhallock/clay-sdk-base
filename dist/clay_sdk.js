(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function(e){!function(e,n,t){return"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):n[e]=t()}("Clay",this,function(){var n,t,r,i,o,u,c,a,s,d,p,f;return t=require("promiz"),i=(e.env.TRUSTED_DOMAIN||"clay.io").replace(/\./g,"\\."),n=window.parent!==window.top,s={},u=!1,o=null,p=null,d=function(){var e;return e=1,function(n){var r,i;r=new t;try{n._id=e,n._clientId=o,n._accessToken=null!=p?p.accessToken:void 0,s[n._id]=r,e+=1,window.parent.postMessage(JSON.stringify(n),"*")}catch(u){i=u,r.reject(i)}return r}}(),a=function(e){var n;if(!c(e.origin))throw new Error("Invalid origin "+e.origin);return n=JSON.parse(e.data),s[n._id].resolve(n.result)},f=function(){return d({method:"ping"})},c=function(e){var n;return n=new RegExp("^https?://(\\w+\\.)?(\\w+\\.)?"+i+"/?$"),n.test(e)},new(r=function(){function e(){this.version="v0.0.0",window.addEventListener("message",a)}return e.prototype._setInitialized=function(e){return u=e},e.prototype._setFramed=function(e){return n=e},e.prototype.init=function(e){return o=null!=e?e.clientId:void 0,o?n?f().then(function(){return d({method:"auth.getStatus"})}).then(function(e){return u=!0,p=e}):(new t).reject(new Error("Unframed Not Implemented")):(new t).reject(new Error("Missing clientId"))},e.prototype.login=function(e){var n;return n=e.scope,(new t).reject(new Error("Not Implemented"))},e.prototype.api=function(){return(new t).reject(new Error("Not Implemented"))},e.prototype.client=function(e){return u?n?f().then(function(){return d(e)}):(new t).reject(new Error("Missing parent frame. Make sure you are within a clay game running frame")):(new t).reject(new Error("Must call Clay.init() first"))},e}())})}).call(this,require("_process"));
},{"_process":3,"promiz":2}],2:[function(require,module,exports){
!function(){function t(n,e){function o(t,n,e,o){if("object"==typeof i&&"function"==typeof t)try{var c=0;t.call(i,function(t){c++||(i=t,n())},function(t){c++||(i=t,e())})}catch(r){i=r,e()}else o()}function c(){var t;try{t=i&&i.then}catch(f){return i=f,u=2,c()}o(t,function(){u=1,c()},function(){u=2,c()},function(){try{1==u&&"function"==typeof n?i=n(i):2==u&&"function"==typeof e&&(i=e(i),u=1)}catch(c){return i=c,s()}i==r?(i=TypeError(),s()):o(t,function(){s(3)},s,function(){s(1==u&&3)})})}var r=this,u=0,i=0,f=[];r.promise=r,r.resolve=function(t){return u||(i=t,u=1,setTimeout(c)),this},r.reject=function(t){return u||(i=t,u=2,setTimeout(c)),this},r.then=function(n,e){var o=new t(n,e);return 3==u?o.resolve(i):4==u?o.reject(i):f.push(o),o};var s=function(t){u=t||4,f.map(function(t){3==u&&t.resolve(i)||t.reject(i)})}}"undefined"!=typeof module?module.exports=t:this.Promiz=t}();
},{}],3:[function(require,module,exports){
function noop(){}var process=module.exports={};process.nextTick=function(){var o="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(o)return function(o){return window.setImmediate(o)};if(e){var s=[];return window.addEventListener("message",function(o){var e=o.source;if((e===window||null===e)&&"process-tick"===o.data&&(o.stopPropagation(),s.length>0)){var n=s.shift();n()}},!0),function(o){s.push(o),window.postMessage("process-tick","*")}}return function(o){setTimeout(o,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")};
},{}]},{},[1]);
